# SMARTLABS Flutter API - Variables de Entorno
# Copia este archivo como .env y configura los valores apropiados
# Autor: José Ángel Balbuena Palma - Tecnológico de Monterrey Campus Puebla

# Configuración del Servidor
PORT=3000
NODE_ENV=development

# ===== CONFIGURACIÓN DE BASE DE DATOS =====
# Base de Datos Principal
DB_HOST=localhost
DB_USER=admin_iotcurso
DB_PASSWORD=tu_password_aqui
DB_NAME=smartlabs
DB_PORT=3306
DB_CHARSET=utf8mb4

# Pool de Conexiones DB (Nuevas configuraciones para evitar freezing)
DB_CONNECTION_LIMIT=10
DB_ACQUIRE_TIMEOUT=60000
DB_TIMEOUT=60000
DB_IDLE_TIMEOUT=300000
DB_MAX_RECONNECTS=3

# Base de Datos Fallback
DB_FALLBACK_HOST=127.0.0.1
DB_FALLBACK_USER=admin_iotcurso
DB_FALLBACK_PASSWORD=tu_password_aqui
DB_FALLBACK_NAME=smartlabs_local
DB_FALLBACK_PORT=3306

# ===== CONFIGURACIÓN MQTT =====
MQTT_HOST=192.168.0.100
MQTT_PORT=1883
MQTT_USERNAME=admin
MQTT_PASSWORD=public
# Configuraciones mejoradas MQTT para evitar freezing
MQTT_CONNECT_TIMEOUT=30000
MQTT_RECONNECT_PERIOD=5000
MQTT_KEEPALIVE=60

# ===== CONFIGURACIÓN DE TIMEOUTS =====
# Timeouts para prevenir requests colgadas
API_TIMEOUT=30000
DB_TIMEOUT=15000
MQTT_TIMEOUT=10000
AUTH_TIMEOUT=5000
UPLOAD_TIMEOUT=60000

# ===== CONFIGURACIÓN DE RATE LIMITING =====
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# ===== CONFIGURACIÓN DE PARSING =====
JSON_LIMIT=10mb
URL_ENCODED_LIMIT=10mb

# ===== CONFIGURACIÓN DE CORS =====
CORS_ORIGIN=http://localhost:3000,http://127.0.0.1:3000,http://192.168.0.100:3000

# ===== CONFIGURACIÓN DE AUTENTICACIÓN =====
JWT_SECRET=tu_jwt_secret_super_seguro_aqui
JWT_EXPIRES_IN=24h
API_KEY=tu_api_key_aqui

# ===== CONFIGURACIÓN DE LOGGING =====
LOG_LEVEL=info
LOG_FILE=logs/app.log
LOG_FILE_MAX_SIZE=20m
LOG_FILE_MAX_FILES=14d

# ===== CONFIGURACIÓN DE MONITOREO =====
HEALTH_CHECK_INTERVAL=30000
MEMORY_THRESHOLD=512
CPU_THRESHOLD=80